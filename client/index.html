<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1" />
    <title>Slactor : l'appli qui fait parler les Slack Bots</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">

    <link rel="stylesheet" href="css/slackbots-talk.css">
</head>

<body data-ng-app="app">

    <div class="container-fluid bandeau">
        <div class="row">
            <div class="titre col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
                <h1>Slactor<br/>
		    <small>L'appli qui fait parler les Slackbots</small>
		</h1>
            </div>
        </div>
    </div>
    <div class="container">
      
		<div class="row" ng-controller="SlactorController as ctrl">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-offset-2 col-lg-8 bloc-inputs">	
				<form ng-submit="ctrl.posterMessage()" class="form-horizontal" autocomplete="on">
				 <div class="form-group required">
					<label for="token" class="col-lg-3 control-label">API token</label>
					<div class="col-lg-9">
						<input class="form-control" id="token" name="token" 
							placeholder="Exemple : xoxb-1234567890-VjlWXYZZabcdL0CeozQ3Lxa99" 
							ng-model="ctrl.token" required/>
					</div>
				 </div>
				 <div class="form-group required">
					<label for="channel" class="col-lg-3 control-label">Nom du salon</label>
					<div class="col-lg-9">
						<input class="form-control" id="channel" name="channel" placeholder="Exemple : #general" 
							ng-model="ctrl.channel" required ng-focus="ctrl.passerEnModeSaisie()"/>
					</div>
				 </div>
				 <div class="form-group required">
					<label for="username" class="col-lg-3 control-label">Pseudonyme du bot</label>
					<div class="col-lg-9">
						<input class="form-control" id="username" name="username" placeholder="Exemple : George Abitbol" 
							ng-model="ctrl.username" required ng-focus="ctrl.passerEnModeSaisie()"/>
					</div>	
				 </div>
				 <div class="form-group">
					<label for="icon_url" class="col-lg-3 control-label">URL de l'image du bot</label>
					<div class="col-lg-9">
						<input type="url" class="form-control" id="icon_url" name="icon_url" 
							placeholder="URL de l'image de l'avatar du bot" ng-model="ctrl.iconUrl"
							ng-focus="ctrl.passerEnModeSaisie()" />
					</div>	
				 </div>
				 <div class="form-group required">
					<label for="text" class="col-lg-3 control-label">Message</label>
					<div class="col-lg-9">
						<textarea class="form-control" id="text" name="text" placeholder="Tapez ici le message à envoyer..." 
							ng-model="ctrl.text" required ng-focus="ctrl.passerEnModeSaisie()"></textarea>
					</div>	
				 </div>				 
				  <div class="form-group">
					<div class="col-lg-offset-3 col-lg-9">
					  <button type="submit" class="btn btn-default">Envoyer</button>
					<span ng-show="ctrl.isStatutEnvoi()">
						<img src="img/loading.gif" alt="Loading..." />
					</span>
                                        <span ng-show="ctrl.isStatutOK()">
                                                <img src="img/OK.png" alt="Message sent." />
                                                <span class="success">Message envoyé</span>
                                        </span>
                                        <span ng-show="ctrl.isStatutKO()">
                                                <img src="img/KO.png" alt="Message not sent." />
                                                <span class="error">{{ctrl.errorMessage}}</span>
                                        </span>

                                        </div>			
				</form>

			</div>
		</div>		

        <div class="row">
            <div class="footer col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">

            </div>
        </div>

    </div>
    <!-- container -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <!-- angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-route.min.js"></script>


    <!-- ECMAScript 2015 -->

        <script src="https://google.github.io/traceur-compiler/bin/traceur.js"></script>
       <!-- Bootstrap.js finds script tags with type module and compiler them using the interfaces provided by traceur.js -->
        <script src="https://google.github.io/traceur-compiler/src/bootstrap.js"></script>
<script src="js/vendors/es6-module-loader-dev.js"></script>

<script src="js/appli.js"></script>
<script src="js/SlactorService.js"></script>
<script src="js/SlactorController.js"></script>

<!--
     <script type="module">
            //Place ES6 code here
      System.import('js/appli.js').then(function(module) {
            // foo
        }).catch(function (e) {
            console.error(e);
        });    
   
 </script>
-->
   
</body>

</html>
